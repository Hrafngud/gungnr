## Next Task

Frontend refactor (step 1 complete):
- DONE: Apply the dark zinc skeuomorphic theme tokens and base styles.
- DONE: Replace the header with the new shell (sidebar + top bar) navigation.
- DONE: Introduce the new page map (Home, Overview, Host Settings, Networking, GitHub) and update routing.
- DONE: Refactor the Home view to match the planned Host Status + Quick Deploy layout.
- DONE: Refactor the Overview view to match the planned in-depth host snapshot layout.
  - DONE: Expand with container list highlights, job timeline summary, resource snapshot placeholders, and recent activity.
  - DONE: Restyle Jobs and Activity panels to the dark zinc tokens/variants and AppShell conventions.
- DONE: Refactor the Host Settings view to the dark zinc tokens and AppShell layout.
  - DONE: Restyle host integrations, settings forms, and container lists to use the new panel, badge, and button variants.
  - DONE: Verify GitHub OAuth login flow works (popup auth + /auth/me) so the panel is accessible after login.
- DONE: Refactor the Networking view to the dark zinc tokens and AppShell layout.
  - DONE: Restyle tunnel status, ingress preview, and refresh actions to use the new panel, badge, and button variants.
- DONE: Ensure successful login redirects to the panel after GitHub OAuth.
- DONE: Refactor the GitHub view to the dark zinc tokens and AppShell layout.
  - DONE: Restyle token status, templates, and refresh actions to use the new panel, badge, and button variants.
- DONE: Begin step 2 (Reusable Component System).
  - DONE: Introduce base UI components (Button, Input, Select, Toggle, Card/Panel, Badge/Status).
  - DONE: Migrate at least one view (start with Home) to use the new base components.
- DONE: Continue step 2 (Reusable Component System).
  - DONE: Migrate the Overview view to the new base components.
  - DONE: Add the remaining base components (ListRow, Tooltip, Modal/Sheet) and wire in a shared loading state pattern.
- DONE: Continue step 2 (Reusable Component System).
  - DONE: Migrate Jobs and Activity list views to the base components + shared UiState blocks.
  - DONE: Update Host Settings, Networking, and GitHub views to use UiState/UiListRow where applicable.
  - DONE: Add a lightweight shared skeleton/inline spinner pattern for page-level loading.
- DONE: Finish step 2 (Reusable Component System).
  - DONE: Add toast system + inline feedback patterns for actions.
  - DONE: Standardize success/error surfacing on form submissions (Host Settings, Home deploy flows).
- DONE: Begin step 6 (Journeys).
  - DONE: Add onboarding overlay flow with highlights + API key links (Home + Host Settings).
  - DONE: Add day-to-day guidance callouts for quick deploy and recent activity.
- DONE: Continue step 6 (Journeys).
  - DONE: Extend onboarding overlays to Networking and GitHub.
  - DONE: Add day-to-day guidance callouts in Jobs and Activity views.
- DONE: Begin step 7 (Data and Integration).
  - DONE: Wire GitHub template catalog + allowlist data once API endpoints are ready.
  - DONE: Expand Networking with DNS record and Cloudflare health data when available.
- NEXT: Roll back cloudflared tunnel guidance to recommend host-installed `cloudflared` service for single-host, remote-managed tunnels.
  - Update backend/UI copy and docs to steer operators to `cloudflared service install <token>` and confirm tunnel health from the Cloudflare dashboard.
  - Keep the Docker-based tunnel option as a secondary, explicitly optional path (for fully Dockerized hosts).
  - Emphasize that tunnel setup on the host is manual by the operator; the panel should instruct and provide links only.
  - Add UI help buttons that open a modal with step-by-step guidance and external links (Cloudflare/GitHub token docs, tunnel creation, token retrieval).
- NEXT: Confirm mixed-content is resolved by ensuring `VITE_API_BASE_URL=/` and rebuilding the web container for HTTPS.
  - DONE: Add Cloudflare API token scope guidance to UI + README, and enrich auth error messaging for code 10000/10001.
  - DONE: Clarify remote-managed tunnel requirement and improve Cloudflare error logging in the API.
  - DONE: Add tunnel health diagnostics payload and return non-200 status codes for tunnel errors.
  - DONE: Add live container logs screen for all running containers (not just deploy jobs).
  - DONE: Add copy logs action, expand/collapse sidebar controls, and enhanced container log details.
  - DONE: Run `npm run build` in `frontend/go-notes`.
  - DONE: Run `docker compose up --build` (buildx plugin warning persists; stack started and healthy).
  - TODO: Confirm mixed-content is resolved: ensure `VITE_API_BASE_URL=/` and rebuild the web container so HTTPS requests stay on `https://` (Dockerfile default updated; rebuild still required).
  - TODO: Validate Cloudflare API token/account/zone setup with a token scoped to Account:Cloudflare Tunnel:Edit and Zone:DNS:Edit.
  - TODO: Resolve persistent Cloudflare API auth error (code 10000) by verifying UI-stored settings vs env and confirming the account/zone IDs match the token scope.
  - TODO: Confirm `cloudflared` tunnel token flow in compose (`CLOUDFLARED_TUNNEL_TOKEN`) and document host-network requirement for ingress to `localhost` (keep as optional, non-primary path).
- DONE: Improve external API error logging for Cloudflare/GitHub responses with status/request IDs and response payload summaries.
- DONE: Capture GitHub error response body snippets for clearer API failure logs.
- DONE: Improve GitHub OAuth error logging to include response status/body details for token exchange and user/org checks.

## Notes
- `docker compose up --build` failed locally due to Docker socket permission (`/var/run/docker.sock` connect: operation not permitted).
- Retest after GitHub logging changes still blocked by Docker socket permission.
